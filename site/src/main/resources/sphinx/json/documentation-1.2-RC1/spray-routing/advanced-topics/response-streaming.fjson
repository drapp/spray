{"body": "<div class=\"section\" id=\"response-streaming\">\n<h1>Response Streaming</h1>\n<p>Apart from completing requests with simple <tt class=\"docutils literal\"><span class=\"pre\">HttpResponse</span></tt> instances <em>spray-routing</em> also supports asynchronous\nresponse streaming. If you run <em>spray-routing</em> on top of the <a class=\"reference internal\" href=\"../../../spray-can/#spray-can\"><em>spray-can</em></a> <a class=\"reference internal\" href=\"../../../spray-can/http-server/#http-server\"><em>HTTP Server</em></a> a response stream can be\nrendered as an HTTP/1.1 <tt class=\"docutils literal\"><span class=\"pre\">chunked</span></tt> response or, if <tt class=\"docutils literal\"><span class=\"pre\">chunkless-streaming</span></tt> is enabled, as a single response, whose\nentity body is sent in several parts, one by one, across the network.</p>\n<p>When running <em>spray-routing</em> on top of <a class=\"reference internal\" href=\"../../../spray-servlet/#spray-servlet\"><em>spray-servlet</em></a> the exact interpretation of the individual response chunks\ndepends on the servlet container implementation (see the <a class=\"reference internal\" href=\"../../../spray-servlet/#spray-servlet\"><em>spray-servlet</em></a> docs for more info on this).</p>\n<p>A streaming response is started by sending a <tt class=\"docutils literal\"><span class=\"pre\">ChunkedResponseStart</span></tt> message to the <tt class=\"docutils literal\"><span class=\"pre\">responder</span></tt> of the\n<tt class=\"docutils literal\"><span class=\"pre\">RequestContext</span></tt>. Afterwards the <tt class=\"docutils literal\"><span class=\"pre\">responder</span></tt> is ready to receive a number of <tt class=\"docutils literal\"><span class=\"pre\">MessageChunk</span></tt> messages. A streaming\nresponse is terminated with a <tt class=\"docutils literal\"><span class=\"pre\">ChunkedMessageEnd</span></tt> message.</p>\n<p>In order to not flood the network with chunks that it might not be able to currently digest it&#8217;s always a good idea to\nnot send out another chunk before having received a &#8220;ACK&#8221; confirmation message from the\nunderlying layer (see <a class=\"reference internal\" href=\"../../../spray-can/common-behavior/#acked-sends\"><em>ACKed Sends</em></a> in the <a class=\"reference internal\" href=\"../../../spray-can/#spray-can\"><em>spray-can</em></a> documentation).</p>\n<p>The <a class=\"reference internal\" href=\"../../examples/#complete-examples\"><em>Complete Examples</em></a> both contain sample code, which shows how to send a streaming response that is &#8220;pulled&#8221;\nby the network via send confirmation messages.</p>\n</div>\n", "display_toc": false, "title": "Response Streaming", "sourcename": "", "customsidebar": null, "current_page_name": "documentation/spray-routing/advanced-topics/response-streaming", "next": {"link": "../../predefined-directives-alphabetically/", "title": "Predefined Directives (alphabetically)"}, "rellinks": [["genindex", "General Index", "I", "index"], ["documentation/spray-routing/predefined-directives-alphabetically", "Predefined Directives (alphabetically)", "N", "next"], ["documentation/spray-routing/advanced-topics/custom-directives", "Custom Directives", "P", "previous"]], "meta": {}, "parents": [{"link": "../../../", "title": "Documentation"}, {"link": "../../", "title": "spray-routing"}, {"link": "../", "title": "Advanced Topics"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Response Streaming</a></li>\n</ul>\n", "prev": {"link": "../custom-directives/", "title": "Custom Directives"}, "metatags": ""}