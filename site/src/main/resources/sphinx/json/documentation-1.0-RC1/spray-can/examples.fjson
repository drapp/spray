{"body": "<div class=\"section\" id=\"examples\">\n<h1>Examples</h1>\n<p>The <a class=\"reference external\" href=\"https://github.com/spray/spray/tree/release/1.0/examples/spray-can\">/examples/spray-can/</a> directory of the <em>spray</em> repository\ncontains a number of example projects for <em>spray-can</em>, which are described here.</p>\n<div class=\"section\" id=\"simple-http-client\">\n<span id=\"id2\"></span><h2>simple-http-client</h2>\n<p>This example demonstrates how you can use the three different client-side API levels for performing a simple\nrequest/response cycle.</p>\n<p>Follow these steps to run it on your machine:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\">Clone the <em>spray</em> repository:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">git</span> <span class=\"n\">clone</span> <span class=\"n\">git</span><span class=\"o\">://</span><span class=\"n\">github</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">spray</span><span class=\"o\">/</span><span class=\"n\">spray</span><span class=\"o\">.</span><span class=\"n\">git</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Change into the base directory:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">cd</span> <span class=\"n\">spray</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run SBT:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">sbt</span> <span class=\"s\">&quot;project simple-http-client&quot;</span> <span class=\"n\">run</span>\n</pre></div>\n</div>\n<p>(If this doesn&#8217;t work for you your SBT runner cannot deal with grouped arguments. In this case you&#8217;ll have to\nrun the commands <tt class=\"docutils literal\"><span class=\"pre\">project</span> <span class=\"pre\">simple-http-client</span></tt> and <tt class=\"docutils literal\"><span class=\"pre\">run</span></tt> sequentially &#8220;inside&#8221; of SBT.)</p>\n</li>\n</ol>\n</div>\n<div class=\"section\" id=\"simple-http-server\">\n<span id=\"id3\"></span><h2>simple-http-server</h2>\n<p>This examples implements a very simple web-site built with the <em>spray-can</em> <a class=\"reference internal\" href=\"../http-server/#http-server\"><em>HTTP Server</em></a>.\nIt shows off various features like streaming, stats support and timeout handling.</p>\n<p>Follow these steps to run it on your machine:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\">Clone the <em>spray</em> repository:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">git</span> <span class=\"n\">clone</span> <span class=\"n\">git</span><span class=\"o\">://</span><span class=\"n\">github</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">spray</span><span class=\"o\">/</span><span class=\"n\">spray</span><span class=\"o\">.</span><span class=\"n\">git</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Change into the base directory:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">cd</span> <span class=\"n\">spray</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run SBT:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">sbt</span> <span class=\"s\">&quot;project simple-http-server&quot;</span> <span class=\"n\">run</span>\n</pre></div>\n</div>\n<p>(If this doesn&#8217;t work for you your SBT runner cannot deal with grouped arguments. In this case you&#8217;ll have to\nrun the commands <tt class=\"docutils literal\"><span class=\"pre\">project</span> <span class=\"pre\">simple-http-server</span></tt> and <tt class=\"docutils literal\"><span class=\"pre\">run</span></tt> sequentially &#8220;inside&#8221; of SBT.)</p>\n</li>\n<li><p class=\"first\">Browse to <a class=\"reference external\" href=\"http://127.0.0.1:8080/\">http://127.0.0.1:8080/</a></p>\n</li>\n<li><p class=\"first\">Alternatively you can access the service with <tt class=\"docutils literal\"><span class=\"pre\">curl</span></tt>:</p>\n<div class=\"highlight-scala\"><pre>curl -v 127.0.0.1:8080/ping</pre>\n</div>\n</li>\n<li><p class=\"first\">Stop the service with:</p>\n<div class=\"highlight-scala\"><pre>curl -v 127.0.0.1:8080/stop</pre>\n</div>\n</li>\n</ol>\n</div>\n<div class=\"section\" id=\"server-benchmark\">\n<h2>server-benchmark</h2>\n<p>This example implements a very simple &#8220;ping/pong&#8221; server for benchmarking purposes, that mirrors the\n&#8220;JSON serialization&#8221; test setup from the <a class=\"reference external\" href=\"/blog/2013-05-24-benchmarking-spray/\">techempower benchmark</a>.</p>\n<p>Follow these steps to run it on your machine:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\">Clone the <em>spray</em> repository:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">git</span> <span class=\"n\">clone</span> <span class=\"n\">git</span><span class=\"o\">://</span><span class=\"n\">github</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">spray</span><span class=\"o\">/</span><span class=\"n\">spray</span><span class=\"o\">.</span><span class=\"n\">git</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Change into the base directory:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">cd</span> <span class=\"n\">spray</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run SBT:</p>\n<div class=\"highlight-scala\"><div class=\"highlight\"><pre><span class=\"n\">sbt</span> <span class=\"s\">&quot;project server-benchmark&quot;</span> <span class=\"n\">run</span>\n</pre></div>\n</div>\n<p>(If this doesn&#8217;t work for you your SBT runner cannot deal with grouped arguments. In this case you&#8217;ll have to\nrun the commands <tt class=\"docutils literal\"><span class=\"pre\">project</span> <span class=\"pre\">server-benchmark</span></tt> and <tt class=\"docutils literal\"><span class=\"pre\">run</span></tt> sequentially &#8220;inside&#8221; of SBT.)</p>\n</li>\n<li><p class=\"first\">Use a load-generation tool like <a class=\"reference external\" href=\"http://httpd.apache.org/docs/2.2/programs/ab.html\">ab</a>, <a class=\"reference external\" href=\"http://redmine.lighttpd.net/projects/weighttp/wiki\">weighttp</a>, <a class=\"reference external\" href=\"https://github.com/wg/wrk\">wrk</a> or the like to fire test requests, e.g.:</p>\n<div class=\"highlight-scala\"><pre>wrk -t4 -c100 -d10 http://127.0.0.1:8080/ping</pre>\n</div>\n</li>\n</ol>\n<p>If you start the server with <tt class=\"docutils literal\"><span class=\"pre\">re-start</span></tt> rather than <tt class=\"docutils literal\"><span class=\"pre\">run</span></tt> it will run in a forked JVM that has <tt class=\"docutils literal\"><span class=\"pre\">-verbose:gc</span></tt> and\n<tt class=\"docutils literal\"><span class=\"pre\">-XX:+PrintCompilation</span></tt> flags set, so you can see how often GC is performed and whether the JIT compiler is &#8220;done&#8221;\nwith compiling all the hot spots.</p>\n</div>\n</div>\n", "display_toc": true, "title": "Examples", "sourcename": "", "customsidebar": null, "current_page_name": "documentation/spray-can/examples", "next": {"link": "../../spray-client/", "title": "spray-client"}, "rellinks": [["genindex", "General Index", "I", "index"], ["documentation/spray-client/index", "spray-client", "N", "next"], ["documentation/spray-can/common-behavior", "Common Behavior", "P", "previous"]], "meta": {}, "parents": [{"link": "../../", "title": "Documentation"}, {"link": "../", "title": "spray-can"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Examples</a><ul>\n<li><a class=\"reference internal\" href=\"#simple-http-client\">simple-http-client</a></li>\n<li><a class=\"reference internal\" href=\"#simple-http-server\">simple-http-server</a></li>\n<li><a class=\"reference internal\" href=\"#server-benchmark\">server-benchmark</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../common-behavior/", "title": "Common Behavior"}, "metatags": ""}